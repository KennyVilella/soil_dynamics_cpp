<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>utils: Doxygen documentation &mdash; soil_simulator  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="relax: Doxygen documentation" href="relax.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            soil_simulator
          </a>
              <div class="version">
                1.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../grid.html">Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bucket.html">Bucket</a></li>
<li class="toctree-l1"><a class="reference internal" href="../body_soil.html">Body soil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intersecting_cells.html">Intersecting cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relax.html">Relax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Utility</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="soil_evolution.html">soil_evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="soil_dynamics.html">soil_dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">types</a></li>
<li class="toctree-l2"><a class="reference internal" href="bucket_pos.html">bucket_pos</a></li>
<li class="toctree-l2"><a class="reference internal" href="body_soil.html">body_soil</a></li>
<li class="toctree-l2"><a class="reference internal" href="intersecting_cells.html">intersecting_cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="relax.html">relax</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">utils</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">soil_simulator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API</a></li>
      <li class="breadcrumb-item active">utils: Doxygen documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_api/utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utils-doxygen-documentation">
<h1>utils: Doxygen documentation<a class="headerlink" href="#utils-doxygen-documentation" title="Permalink to this heading"></a></h1>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414soil_simulator">
<span id="_CPPv314soil_simulator"></span><span id="_CPPv214soil_simulator"></span><span id="soil_simulator"></span><span class="target" id="namespacesoil__simulator"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">soil_simulator</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator17CalcBodyCornerPosENSt6vectorIfEENSt6vectorIfEEP4Body">
<span id="_CPPv3N14soil_simulator17CalcBodyCornerPosENSt6vectorIfEENSt6vectorIfEEP4Body"></span><span id="_CPPv2N14soil_simulator17CalcBodyCornerPosENSt6vectorIfEENSt6vectorIfEEP4Body"></span><span id="soil_simulator::CalcBodyCornerPos__std::vector:float:.std::vector:float:.BodyP"></span><span class="target" id="utils_8hpp_1a996f3a275167d5fd9d7aa53c90421dfc"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">tuple</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CalcBodyCornerPos</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pos</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ori</span></span>, <a class="reference internal" href="types.html#_CPPv4N14soil_simulator4BodyE" title="soil_simulator::Body"><span class="n"><span class="pre">Body</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">body</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator17CalcBodyCornerPosENSt6vectorIfEENSt6vectorIfEEP4Body" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function calculates the global position of the six corners of the body. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> – Cartesian coordinates of the body origin. [m] </p></li>
<li><p><strong>ori</strong> – Orientation of the body. [Quaternion] </p></li>
<li><p><strong>body</strong> – Class that stores information related to the body object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple composed of six vectors giving the Cartesian coordinates of the body corners in that order: right side of the body joint, left side of the body joint, right side of the body base, left side of the body base, right side of the body teeth, left side of the body teeth. [m] </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator17CheckBodyMovementENSt6vectorIfEENSt6vectorIfEE4GridP4Body">
<span id="_CPPv3N14soil_simulator17CheckBodyMovementENSt6vectorIfEENSt6vectorIfEE4GridP4Body"></span><span id="_CPPv2N14soil_simulator17CheckBodyMovementENSt6vectorIfEENSt6vectorIfEE4GridP4Body"></span><span id="soil_simulator::CheckBodyMovement__std::vector:float:.std::vector:float:.Grid.BodyP"></span><span class="target" id="utils_8hpp_1aaf5fe0d8d7e1aa77d8e634d436e1c4ac"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CheckBodyMovement</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pos</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ori</span></span>, <a class="reference internal" href="types.html#_CPPv4N14soil_simulator4GridE" title="soil_simulator::Grid"><span class="n"><span class="pre">Grid</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">grid</span></span>, <a class="reference internal" href="types.html#_CPPv4N14soil_simulator4BodyE" title="soil_simulator::Body"><span class="n"><span class="pre">Body</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">body</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator17CheckBodyMovementENSt6vectorIfEENSt6vectorIfEE4GridP4Body" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function calculates how far the body has travelled since the last soil update and checks whether it is necessary to update the soil. </p>
<p>
This function calculates the maximum distance travelled by any part of the body since the last soil update. The position of the body during the last soil update is stored in the <code class="docutils literal notranslate"><span class="pre">body</span></code> class.</p>
<p>If the maximum distance travelled is lower than 50% of the cell size, the function returns <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise it returns <code class="docutils literal notranslate"><span class="pre">true</span></code>. Note that if the distance travelled exceeds twice the cell size, a warning is issued to indicate a potential problem with the soil update. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> – Cartesian coordinates of the body origin. [m] </p></li>
<li><p><strong>ori</strong> – Orientation of the body. [Quaternion] </p></li>
<li><p><strong>grid</strong> – Class that stores information related to the simulation grid. </p></li>
<li><p><strong>body</strong> – Class that stores information related to the body object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean indicating whether the soil should be updated.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator10CalcNormalENSt6vectorIfEENSt6vectorIfEENSt6vectorIfEE">
<span id="_CPPv3N14soil_simulator10CalcNormalENSt6vectorIfEENSt6vectorIfEENSt6vectorIfEE"></span><span id="_CPPv2N14soil_simulator10CalcNormalENSt6vectorIfEENSt6vectorIfEENSt6vectorIfEE"></span><span id="soil_simulator::CalcNormal__std::vector:float:.std::vector:float:.std::vector:float:"></span><span class="target" id="utils_8hpp_1a0647bb972b73b90dffefed418fe8afc6"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CalcNormal</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">a</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator10CalcNormalENSt6vectorIfEENSt6vectorIfEENSt6vectorIfEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function calculates the unit normal vector of a plane formed by three points using the right-hand rule. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – Cartesian coordinates of the first point of the plane. [m] </p></li>
<li><p><strong>b</strong> – Cartesian coordinates of the second point of the plane. [m] </p></li>
<li><p><strong>c</strong> – Cartesian coordinates of the third point of the plane. [m]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Unit normal vector of the provided plane. [m] </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator16CalcBodyFramePosEiif4GridP4Body">
<span id="_CPPv3N14soil_simulator16CalcBodyFramePosEiif4GridP4Body"></span><span id="_CPPv2N14soil_simulator16CalcBodyFramePosEiif4GridP4Body"></span><span id="soil_simulator::CalcBodyFramePos__i.i.float.Grid.BodyP"></span><span class="target" id="utils_8hpp_1aa9525329b594eba87d2eff0ea0e37b43"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CalcBodyFramePos</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ii</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">jj</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">z</span></span>, <a class="reference internal" href="types.html#_CPPv4N14soil_simulator4GridE" title="soil_simulator::Grid"><span class="n"><span class="pre">Grid</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">grid</span></span>, <a class="reference internal" href="types.html#_CPPv4N14soil_simulator4BodyE" title="soil_simulator::Body"><span class="n"><span class="pre">Body</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">body</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator16CalcBodyFramePosEiif4GridP4Body" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function calculates the position of a considered cell in the body frame assuming that the body is in its reference position. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ii</strong> – Index of the considered cell in the X direction. </p></li>
<li><p><strong>jj</strong> – Index of the considered cell in the Y direction. </p></li>
<li><p><strong>z</strong> – Height of the considered position. [m] </p></li>
<li><p><strong>grid</strong> – Class that stores information related to the simulation grid. </p></li>
<li><p><strong>body</strong> – Class that stores information related to the body object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cartesian coordinates of the considered position in the reference body frame. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator22CalcRotationQuaternionENSt6vectorIfEENSt6vectorIfEE">
<span id="_CPPv3N14soil_simulator22CalcRotationQuaternionENSt6vectorIfEENSt6vectorIfEE"></span><span id="_CPPv2N14soil_simulator22CalcRotationQuaternionENSt6vectorIfEENSt6vectorIfEE"></span><span id="soil_simulator::CalcRotationQuaternion__std::vector:float:.std::vector:float:"></span><span class="target" id="utils_8hpp_1a1f96f36b03ea5e7fd7acf8774a346350"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CalcRotationQuaternion</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ori</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pos</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator22CalcRotationQuaternionENSt6vectorIfEENSt6vectorIfEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function applies a rotation <code class="docutils literal notranslate"><span class="pre">ori</span></code> to the Cartesian coordinates <code class="docutils literal notranslate"><span class="pre">pos</span></code>. </p>
<p>The Quaternion convention is used for 3D rotation.</p>
<p>
The mathematical reasoning behind this implementation can be easily found in the Wiki page of Quaternion or elsewhere. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ori</strong> – Orientation of the body. [Quaternion] </p></li>
<li><p><strong>pos</strong> – Cartesian coordinates of one point of the body in its reference pose relative to the body origin. [m]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Rotated Cartesian coordinates of the input <code class="docutils literal notranslate"><span class="pre">pos</span></code> relative to the body origin. [m]</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator11AngleToQuatENSt6vectorIfEE">
<span id="_CPPv3N14soil_simulator11AngleToQuatENSt6vectorIfEE"></span><span id="_CPPv2N14soil_simulator11AngleToQuatENSt6vectorIfEE"></span><span id="soil_simulator::AngleToQuat__std::vector:float:"></span><span class="target" id="utils_8hpp_1acd568e6b041aae700f5e1b915c8d90e7"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AngleToQuat</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ori</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator11AngleToQuatENSt6vectorIfEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function converts Euler angles following the ZYX convention to a quaternion. </p>
<p>
The mathematical reasoning behind this implementation can be easily found in the Wiki page of Quaternion or elsewhere.</p>
<p>Note that this function only works if the Euler angles follow the ZYX convention. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ori</strong> – Orientation of the body. [Euler angles, ZYX sequence]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Orientation of the body. [Quaternion]</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator18MultiplyQuaternionENSt6vectorIfEENSt6vectorIfEE">
<span id="_CPPv3N14soil_simulator18MultiplyQuaternionENSt6vectorIfEENSt6vectorIfEE"></span><span id="_CPPv2N14soil_simulator18MultiplyQuaternionENSt6vectorIfEENSt6vectorIfEE"></span><span id="soil_simulator::MultiplyQuaternion__std::vector:float:.std::vector:float:"></span><span class="target" id="utils_8hpp_1a65d6a37c7717cf60059c53d09e684532"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MultiplyQuaternion</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">q1</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">q2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator18MultiplyQuaternionENSt6vectorIfEENSt6vectorIfEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function calculates the product of two quaternions. </p>
<p>
The mathematical reasoning behind this implementation can be easily found in the Wiki page of Quaternion or elsewhere. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q1</strong> – First quaternion. [Quaternion] </p></li>
<li><p><strong>q2</strong> – Second quaternion. [Quaternion]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Product of the two inputs quaternions. [Quaternion]</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator11CheckVolumeEP6SimOutf4Gridf">
<span id="_CPPv3N14soil_simulator11CheckVolumeEP6SimOutf4Gridf"></span><span id="_CPPv2N14soil_simulator11CheckVolumeEP6SimOutf4Gridf"></span><span id="soil_simulator::CheckVolume__SimOutP.float.Grid.float"></span><span class="target" id="utils_8hpp_1a4b6389c0d38e8888d00b412dc5c4c8a3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CheckVolume</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#_CPPv4N14soil_simulator6SimOutE" title="soil_simulator::SimOut"><span class="n"><span class="pre">SimOut</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sim_out</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">init_volume</span></span>, <a class="reference internal" href="types.html#_CPPv4N14soil_simulator4GridE" title="soil_simulator::Grid"><span class="n"><span class="pre">Grid</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">grid</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tol</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator11CheckVolumeEP6SimOutf4Gridf" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function checks that the volume of soil is conserved and that the content of <code class="docutils literal notranslate"><span class="pre">body_soil_pos_</span></code> and <code class="docutils literal notranslate"><span class="pre">body_soil_</span></code> is consistent. </p>
<p>The initial volume of soil (<code class="docutils literal notranslate"><span class="pre">init_volume</span></code>) has to be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sim_out</strong> – Class that stores simulation outputs. </p></li>
<li><p><strong>init_volume</strong> – Initial volume of soil in the terrain. [m^3] </p></li>
<li><p><strong>grid</strong> – Class that stores information related to the simulation grid. </p></li>
<li><p><strong>tol</strong> – Small number used to handle numerical approximation errors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean indicating whether soil is conserved or not. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator9CheckSoilEP6SimOutf">
<span id="_CPPv3N14soil_simulator9CheckSoilEP6SimOutf"></span><span id="_CPPv2N14soil_simulator9CheckSoilEP6SimOutf"></span><span id="soil_simulator::CheckSoil__SimOutP.float"></span><span class="target" id="utils_8hpp_1a79a35e16ac590fb4b828ea43c7f5b891"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CheckSoil</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#_CPPv4N14soil_simulator6SimOutE" title="soil_simulator::SimOut"><span class="n"><span class="pre">SimOut</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sim_out</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tol</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator9CheckSoilEP6SimOutf" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function checks that all the simulation outputs follow the conventions of the simulator. </p>
<p>
The conventions that are checked by this function include:<ul class="simple">
<li><p>The terrain should not overlap with the body.</p></li>
<li><p>The body should be properly defined, with its maximum height higher than its minimum height.</p></li>
<li><p>The body soil should be properly defined, with its maximum height higher than its minimum height.</p></li>
<li><p>The two body layers should not overlap or touch each other.</p></li>
<li><p>One body layer should not overlap with all body soil layer.</p></li>
<li><p>The body should not overlap with the corresponding body soil layer.</p></li>
<li><p>The body soil layer should be resting on the corresponding body layer.</p></li>
<li><p>The body should be present when there is body soil. </p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sim_out</strong> – Class that stores simulation outputs. </p></li>
<li><p><strong>tol</strong> – Small number used to handle numerical approximation errors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean indicating whether the simulation outputs are consistent.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator9WriteSoilEP6SimOut4Grid">
<span id="_CPPv3N14soil_simulator9WriteSoilEP6SimOut4Grid"></span><span id="_CPPv2N14soil_simulator9WriteSoilEP6SimOut4Grid"></span><span id="soil_simulator::WriteSoil__SimOutP.Grid"></span><span class="target" id="utils_8hpp_1a3a1312acf11adcd75455909ec81fceb7"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">WriteSoil</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#_CPPv4N14soil_simulator6SimOutE" title="soil_simulator::SimOut"><span class="n"><span class="pre">SimOut</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sim_out</span></span>, <a class="reference internal" href="types.html#_CPPv4N14soil_simulator4GridE" title="soil_simulator::Grid"><span class="n"><span class="pre">Grid</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">grid</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator9WriteSoilEP6SimOut4Grid" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function writes the terrain and the body soil into a csv located in the <code class="docutils literal notranslate"><span class="pre">results</span></code> directory. </p>
<p><code class="docutils literal notranslate"><span class="pre">terrain_</span></code> and <code class="docutils literal notranslate"><span class="pre">body_soil_</span></code> are saved into files named <code class="docutils literal notranslate"><span class="pre">terrain</span></code> and <code class="docutils literal notranslate"><a class="reference internal" href="types.html#structsoil__simulator_1_1body__soil"><span class="std std-ref"><span class="pre">body_soil</span></span></a></code>, respectively, followed by the file number. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sim_out</strong> – Class that stores simulation outputs. </p></li>
<li><p><strong>grid</strong> – Class that stores information related to the simulation grid.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator9WriteBodyEP4Body">
<span id="_CPPv3N14soil_simulator9WriteBodyEP4Body"></span><span id="_CPPv2N14soil_simulator9WriteBodyEP4Body"></span><span id="soil_simulator::WriteBody__BodyP"></span><span class="target" id="utils_8hpp_1a1d4da44619eea754e07f570a9ba62a8e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">WriteBody</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="types.html#_CPPv4N14soil_simulator4BodyE" title="soil_simulator::Body"><span class="n"><span class="pre">Body</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">body</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator9WriteBodyEP4Body" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function writes the position of all body faces into a csv located in the <code class="docutils literal notranslate"><span class="pre">results</span></code> directory. </p>
<p>
The body corners are saved into a file named <code class="docutils literal notranslate"><span class="pre">bucket</span></code> followed by the file number. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>body</strong> – Class that stores information related to the body object.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N14soil_simulator13simplex_noiseEffNSt6vectorIiEE">
<span id="_CPPv3N14soil_simulator13simplex_noiseEffNSt6vectorIiEE"></span><span id="_CPPv2N14soil_simulator13simplex_noiseEffNSt6vectorIiEE"></span><span id="soil_simulator::simplex_noise__float.float.std::vector:i:"></span><span class="target" id="utils_8hpp_1a49474b2c040ba18a18540424f4a72819"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">simplex_noise</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">x</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">y</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">perm_table</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N14soil_simulator13simplex_noiseEffNSt6vectorIiEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>This function creates simplex noise for more realistic terrain generation. </p>
<p>
This function implements 2D Simplex noise. A lot of material can be found online concerning this implementation so that the details would not be explicited here. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – Rescaled Cartesian coordinate in the X direction. </p></li>
<li><p><strong>y</strong> – Rescaled Cartesian coordinate in the Y direction. </p></li>
<li><p><strong>perm_table</strong> – Pre-calculated permutation table to generate pseudo-random noise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A float representing the Simplex noise.</p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="relax.html" class="btn btn-neutral float-left" title="relax: Doxygen documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Vilella Kenny.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    
    <dl>
      <dt>Versions</dt>
      <dd><a href="../../v1.0.0/_api/utils.html">v1.0.0</a></dd>
      <dd><a href="utils.html">main</a></dd>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>